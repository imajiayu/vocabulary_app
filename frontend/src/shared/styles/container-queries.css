/* shared/styles/container-queries.css - 容器查询样式 */
/* ═══════════════════════════════════════════════════════════════════════════
   基于 FRONTEND_DESIGN_OPTIMIZATION.md 5.1 节实现
   容器查询允许组件基于其容器大小而非视口大小进行响应式调整
   ═══════════════════════════════════════════════════════════════════════════ */

/* ═══════════════════════════════════════════════════════════════════════════
   容器定义
   ═══════════════════════════════════════════════════════════════════════════ */

/* 通用容器 */
.container-responsive {
  container-type: inline-size;
}

/* 命名容器 - 用于特定组件 */
.word-grid-container {
  container-type: inline-size;
  container-name: word-grid;
}

.card-container {
  container-type: inline-size;
  container-name: card;
}

.sidebar-container {
  container-type: inline-size;
  container-name: sidebar;
}

.form-container {
  container-type: inline-size;
  container-name: form;
}

.stats-container {
  container-type: inline-size;
  container-name: stats;
}

/* ═══════════════════════════════════════════════════════════════════════════
   词汇网格容器查询
   ═══════════════════════════════════════════════════════════════════════════ */

/* 小容器：单列布局 */
@container word-grid (max-width: 399px) {
  .word-grid-item {
    flex-direction: column;
    padding: var(--space-3);
  }

  .word-grid-item__title {
    font-size: var(--font-size-base);
  }

  .word-grid-item__meta {
    flex-wrap: wrap;
    gap: var(--space-2);
  }
}

/* 中等容器：两列布局 */
@container word-grid (min-width: 400px) and (max-width: 599px) {
  .word-grid-item {
    flex-direction: row;
    align-items: center;
    padding: var(--space-4);
  }

  .word-grid-item__title {
    font-size: var(--font-size-lg);
  }
}

/* 大容器：增强布局 */
@container word-grid (min-width: 600px) {
  .word-grid-item {
    padding: var(--space-6);
  }

  .word-grid-item__title {
    font-size: var(--font-size-xl);
  }

  .word-grid-item__actions {
    opacity: 0;
    transition: opacity var(--duration-fast);
  }

  .word-grid-item:hover .word-grid-item__actions {
    opacity: 1;
  }
}

/* ═══════════════════════════════════════════════════════════════════════════
   卡片容器查询
   ═══════════════════════════════════════════════════════════════════════════ */

/* 紧凑卡片 */
@container card (max-width: 299px) {
  .card-responsive {
    padding: var(--space-3);
  }

  .card-responsive__header {
    flex-direction: column;
    gap: var(--space-2);
  }

  .card-responsive__title {
    font-size: var(--font-size-base);
  }

  .card-responsive__footer {
    flex-direction: column;
    gap: var(--space-2);
  }
}

/* 标准卡片 */
@container card (min-width: 300px) and (max-width: 499px) {
  .card-responsive {
    padding: var(--space-4);
  }

  .card-responsive__title {
    font-size: var(--font-size-lg);
  }
}

/* 宽卡片 */
@container card (min-width: 500px) {
  .card-responsive {
    padding: var(--space-6);
  }

  .card-responsive__header {
    flex-direction: row;
    justify-content: space-between;
    align-items: center;
  }

  .card-responsive__title {
    font-size: var(--font-size-xl);
  }

  .card-responsive__footer {
    flex-direction: row;
    justify-content: space-between;
  }
}

/* ═══════════════════════════════════════════════════════════════════════════
   侧边栏容器查询
   ═══════════════════════════════════════════════════════════════════════════ */

/* 折叠侧边栏 */
@container sidebar (max-width: 79px) {
  .sidebar-nav-item {
    justify-content: center;
    padding: var(--space-3);
  }

  .sidebar-nav-item__label {
    display: none;
  }

  .sidebar-nav-item__icon {
    margin: 0;
  }
}

/* 展开侧边栏 */
@container sidebar (min-width: 80px) {
  .sidebar-nav-item {
    justify-content: flex-start;
    padding: var(--space-3) var(--space-4);
    gap: var(--space-3);
  }

  .sidebar-nav-item__label {
    display: block;
  }
}

/* ═══════════════════════════════════════════════════════════════════════════
   表单容器查询
   ═══════════════════════════════════════════════════════════════════════════ */

/* 窄表单：单列 */
@container form (max-width: 399px) {
  .form-row {
    flex-direction: column;
    gap: var(--space-4);
  }

  .form-actions {
    flex-direction: column;
    gap: var(--space-2);
  }

  .form-actions .btn {
    width: 100%;
  }
}

/* 宽表单：多列 */
@container form (min-width: 400px) {
  .form-row {
    flex-direction: row;
    gap: var(--space-4);
  }

  .form-row > * {
    flex: 1;
  }

  .form-actions {
    flex-direction: row;
    justify-content: flex-end;
    gap: var(--space-3);
  }
}

/* ═══════════════════════════════════════════════════════════════════════════
   统计卡片容器查询
   ═══════════════════════════════════════════════════════════════════════════ */

/* 小统计卡片 */
@container stats (max-width: 199px) {
  .stat-card {
    flex-direction: column;
    text-align: center;
    padding: var(--space-3);
  }

  .stat-card__value {
    font-size: var(--font-size-2xl);
  }

  .stat-card__label {
    font-size: var(--font-size-xs);
  }
}

/* 中等统计卡片 */
@container stats (min-width: 200px) and (max-width: 299px) {
  .stat-card {
    flex-direction: row;
    align-items: center;
    justify-content: space-between;
    padding: var(--space-4);
  }

  .stat-card__value {
    font-size: var(--font-size-3xl);
  }
}

/* 大统计卡片 */
@container stats (min-width: 300px) {
  .stat-card {
    padding: var(--space-6);
  }

  .stat-card__value {
    font-size: clamp(32px, 5cqi, 48px);
  }

  .stat-card__trend {
    display: flex;
  }
}

/* ═══════════════════════════════════════════════════════════════════════════
   通用响应式工具类
   ═══════════════════════════════════════════════════════════════════════════ */

/* 容器查询下的隐藏/显示 */
@container (max-width: 399px) {
  .cq-hide-sm {
    display: none !important;
  }
}

@container (min-width: 400px) {
  .cq-show-sm {
    display: none !important;
  }
}

@container (max-width: 599px) {
  .cq-hide-md {
    display: none !important;
  }
}

@container (min-width: 600px) {
  .cq-show-md {
    display: none !important;
  }
}

/* 容器查询下的文本截断 */
@container (max-width: 299px) {
  .cq-truncate-sm {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }
}

/* 容器查询下的网格布局 */
@container (min-width: 400px) {
  .cq-grid-2 {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-4);
  }
}

@container (min-width: 600px) {
  .cq-grid-3 {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: var(--space-4);
  }
}

@container (min-width: 800px) {
  .cq-grid-4 {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: var(--space-4);
  }
}
